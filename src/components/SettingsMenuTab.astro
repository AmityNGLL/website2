---
import styles from "@styles/Settings.module.scss";

type Props = Record<string, any> & {
  href?: string;
  name: string;
  iconFilled: string;
  iconOutlined?: string;
  tabIndex?: number;
  isNew?: boolean;
};

const { href, name, iconFilled, iconOutlined, isNew } = Astro.props;

const selected = Astro.url.pathname === href;
---

<script>
  (window as any).settingsTab = (e: HTMLAnchorElement) => {
    document.querySelector("[data-selected]")!.removeAttribute("data-selected");
    e.setAttribute("data-selected", "");
  };
</script>
<a
  href={href}
  data-selected={selected || undefined}
  data-outlined={iconOutlined !== undefined || undefined}
  class={styles.entry}
  title={name}
  onclick="settingsTab(this)"
>
  <span class={styles.icon} set:html={iconFilled + (iconOutlined || "")} />
  <span class={styles.name}>{name}</span>
  {isNew && <span class={styles.new}>new</span>}
</a>
