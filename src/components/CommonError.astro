---
import { themeStyles } from "./ThemeElements";

interface Props {
  cause?: string | null;
  error: string;
  message: string;
}
---

<main class="error">
  <p>{Astro.props.message}:</p>
  {
    Astro.props.cause ? (
      <>
        <pre>{Astro.props.cause}</pre>
        <pre>{Astro.props.error}</pre>
      </>
    ) : (
      <pre>{Astro.props.error}</pre>
    )
  }
  <p>
    <a class={themeStyles.themeLink} href="i:" id="reload">
      Try again by clicking here.
    </a>
    <br />
    If this problem still occurs, check our{" "}
    <a class={themeStyles.themeLink} href="/faq" target="_parent"> FAQ </a>{" "}
    or{" "}
    <a class={themeStyles.themeLink} href="/contact" target="_parent">
      Contact Us
    </a>
    .
  </p>
  <script>
    document
      .querySelector<HTMLAnchorElement>("#reload")!
      .addEventListener("click", (event) => {
        event.preventDefault();
        location.reload();
      });
  </script>
</main>
